{% extends 'base.html' %}
{% load static %}

{% block title %} Tables {% endblock %}


{% block css %}
<!-- Custom styles for this page -->
<link href="{% static 'vendor/datatables/dataTables.bootstrap4.css' %}" rel="stylesheet">
{% endblock %}

{% block container_fluid %}
<div class="container-fluid">
    <!-- Page Heading -->
    <h1 class="h3 mb-2 text-gray-800">사외적치블록 블록선정 분석결과</h1>
    <!-- <p class="h4 mb-2  text-gray-800">결과</p> -->
    <div class="card shadow mb-4">
        <!-- <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">DataTables Example</h6>
        </div> -->
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="20%" cellspacing="0">
                    <thead>
                        <tr>  
                            <th>RANK</th>
                            <th>A.PROJ_NO</th>
                            <th>A.BLK_NO</th>
                            <th>A.LTH</th>
                            <th>A.BTH</th>
                            <th>A.HGT</th>
                            <th>A.NET_WGT</th>
                            <th>WKA_CD</th>
                            <th>DTL_ARNO_CD</th>
                            <th>IN_OUT_AREA</th>
                            <th>A.IA_NOW_P_STG</th>
                            <th>A.IA_NOW_FNDT</th>
                            <th>LOGI_CHK_DESC</th>
                            <th>LOGI_CHK_DT</th>
                            <th>LOGI_UPLOAD_DT</th>
                            <th>WAITING_PERIOD</th>
                            <th>AF_CODE_DESC</th>
                            <th>IA_AF_STDT</th>
                            <th>IA_AF_WKA_NM</th>
                            <th>IA_AF_WK_CENT_DSC</th>
                            <th>EXP_PRE_OUTFIT_STDT</th>
                            <th>A.IA_AF_STDT</th>
                            <th>CHECK_CUR_JOB</th>
                            <th>CHECK_NEXT_JOB</th>
                            <th>LOGI_BUFFER_TIME</th>
                            <th>ISOP_BUFFER_TIME</th>
                            <th>CHECK_SIZE</th>
                            <th>CHECK_DAY_NIGHT</th>
                            
                        </tr>
                    </thead>
                    <tbody>
                        {% for db in df %}
                        <tr> 
                            <td>{{ db.RANK }}</td>
                            <td>{{ db.A_PROJ_NO }}</td>
                            <td>{{ db.A_BLK_NO }}</td>
                            <td>{{ db.A_LTH }}</td>
                            <td>{{ db.A_BTH }}</td>
                            <td>{{ db.A_HGT }}</td>
                            <td>{{ db.A_NET_WGT }}</td>
                            <td>{{ db.WKA_CD }}</td>
                            <td>{{ db.DTL_ARNO_CD }}</td>
                            <td>{{ db.IN_OUT_AREA }}</td>
                            <td>{{ db.A_IA_NOW_P_STG }}</td> 
                            <td>{{ db.A_IA_NOW_FNDT }}</td>
                            <td>{{ db.LOGI_CHK_DESC }}</td>
                            <td>{{ db.LOGI_CHK_DT }}</td>
                            <td>{{ db.LOGI_UPLOAD_DT }}</td>
                            <td>{{ db.후공정_대기_기간 }}</td>
                            <td>{{ db.AF_CODE_DESC }}</td>
                            <td>{{ db.IA_AF_STDT }}</td>
                            <td>{{ db.IA_AF_WKA_NM }}</td>
                            <td>{{ db.IA_AF_WK_CENT_DSC }}</td>
                            <td>{{ db.EXP_PRE_OUTFIT_STDT }}</td>
                            <td>{{ db.A.IA_AF_STDT }}</td>
                            <td>{{ db.CHECK_CUR_JOB }}</td>
                            <td>{{ db.CHECK_NEXT_JOB }}</td>
                            <td>{{ db.LOGI_BUFFER_TIME }}</td>
                            <td>{{ db.ISOP_BUFFER_TIME }}</td>
                            <td>{{ db.CHECK_SIZE }}</td>
                            <td>{{ db.CHECK_DAY_NIGHT }}</td>
                            
                        </tr>
                        {% endfor %}    
                    </tbody>
                </table>
                
            </div>
        </div>
    </div>
</div>

<div class="container-fluid">
    <!-- Page Heading -->
    <h1 class="h3 mb-2 text-gray-800"></h1>
    <!-- <p class="h4 mb-2  text-gray-800">결과</p> -->
    <div class="card shadow mb-4">
        <!-- <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">DataTables Example</h6>
        </div> -->
        <div class="card-body">
            <div class="">
                <script>
                    window.onload = function () {
            
                        var chart1 = new CanvasJS.Chart("chartContainer1", {
                            animationEnabled: true,
                            title: {
                                text: "A.BLK_NO",
                                fontSize: 25
                            },
                            axisX: {
                                labelAngle: 45, // X 축 레이블의 각도 조절
                            },

                            axisY: {
                                suffix: "",
                                
                            },
                            toolTip: {
                                shared: true
                            },
                            legend: {
                                cursor: "pointer",
                                itemclick: toggleDataSeries
                            },
                            
                            data: [
                            {
                                type: "column",
                                dataPoints: [
                                    { label: "10", y: 33 },
                                    { label: "20", y: 29},
                                    { label: "30", y: 26 },
                                    { label: "40", y: 16 },
                                    { label: "00", y: 15 },
                                    { label: "50", y: 14 },
                                    { label: "70", y: 13 },
                                    { label: "80", y: 11 },
                                    { label: "21", y: 11 },
                                    { label: "11", y: 11},
                                    { label: "60", y: 10},
                                    { label: "41", y: 6},
                                    { label: "71", y: 6},
                                ]
                            }
                            ]
                        });
                        chart1.render();


                        function toggleDataSeries(e) {
                            if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                e.dataSeries.visible = false;
                            }
                            else {
                                e.dataSeries.visible = true;
                            }
                            chart1.render();
                        }
            
                        var chart2 = new CanvasJS.Chart("chartContainer2", {
                            animationEnabled: true,
                            title: {
                                text: "LOGI_CHK_DESC",
                                fontSize: 25
                            },
                            axisY: {
                                valueFormatString: "####",
                                suffix: "",
                            },
                            toolTip: {
                                shared: true
                            },
                            legend: {
                                cursor: "pointer",
                                itemclick: toggleDataSeries2
                            },
                            data: [
                            {
                                type: "column",
                                dataPoints: [
                                    { label: "선행의장", y: 127 },
                                    { label: "조립", y: 63},
                                    { label: "도장", y: 58 },
                                ]
                            }
                            ]
                        });
                        chart2.render();
                        function toggleDataSeries2(e) {
                            if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                e.dataSeries.visible = false;
                            }
                            else {
                                e.dataSeries.visible = true;
                            }
                            chart2.render();
                        }
            
                       
                    }
                </script>
                <div id="chartContainer2" style="height: 360px; width: 95%;"></div>
                <br>
                <div id="chartContainer1" style="height: 360px; width: 95%;"></div>
                
                
            </div>
        </div>
    </div>
</div>


<div class="container-fluid">
    <!-- Page Heading -->
    <h1 class="h3 mb-2 text-gray-800"></h1>
    <!-- <p class="h4 mb-2  text-gray-800">결과</p> -->
    <div class="card shadow mb-4">
        <!-- <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">DataTables Example</h6>
        </div> -->
        <div class="card-body">
            <div class="">
                <script>
                    window.onload = function () {
            
                        var chart1 = new CanvasJS.Chart("chartContainer1", {
                            animationEnabled: true,
                            title: {
                                text: "WKA_CD",
                                fontSize: 25
                            },
                            axisX: {
                                labelAngle: 45, // X 축 레이블의 각도 조절
                            },

                            axisY: {
                                suffix: "",
                                
                            },
                            toolTip: {
                                shared: true
                            },
                            legend: {
                                cursor: "pointer",
                                
                            },
                            
                            data: [
                            {
                                type: "column",
                                dataPoints: [
                                    { label: "10", y: 33 },
                                    { label: "20", y: 29},
                                    { label: "30", y: 26 },
                                    { label: "40", y: 16 },
                                    { label: "00", y: 15 },
                                    { label: "50", y: 14 },
                                    { label: "70", y: 13 },
                                    { label: "80", y: 11 },
                                    { label: "21", y: 11 },
                                    { label: "11", y: 11},
                                    { label: "60", y: 10},
                                    { label: "41", y: 6},
                                    { label: "71", y: 6},
                                ]
                            }
                            ]
                        });
                        chart1.render();


                        
            
                        var chart2 = new CanvasJS.Chart("chartContainer2", {
                            animationEnabled: true,
                            title: {
                                text: "LOGI_CHK_DESC",
                                fontSize: 25
                            },
                            axisY: {
                                valueFormatString: "####",
                                suffix: "",
                            },
                            toolTip: {
                                shared: true
                            },
                            legend: {
                                cursor: "pointer",

                            },
                            data: [
                            {
                                type: "column",
                                dataPoints: [
                                    { label: "선행의장", y: 127 },
                                    { label: "조립", y: 63},
                                    { label: "도장", y: 58 },
                                ]
                            }
                            ]
                        });
                        chart2.render();
                 
            
                        var chart3 = new CanvasJS.Chart("chartContainer3", {
                            animationEnabled: true,
                            title: {
                                text: "LOGI_BUFFER_TIME",
                                fontSize: 25
                            },
                            axisX: {
                                labelAngle: 45, // X 축 레이블의 각도 조절
                            },
                            axisY: {
                                valueFormatString: "####",
                                suffix: "",
                            },
                            toolTip: {
                                shared: true
                            },
                            legend: {
                                cursor: "pointer",
                                itemclick: toggleDataSeries3
                            },
                            data: [
                            {
                                type: "column",
                                color: "rgba(75, 192, 192, 0.7)", // 색상 설정
                                dataPoints: [
                                    { label: "0일", y: 0 },
                                    { label: "1일", y: 0 },
                                    { label: "2일", y: 0 },
                                    { label: "3일", y: 0 },
                                    { label: "4일", y: 0 },
                                    { label: "5일", y: 0 },
                                    { label: "6일", y: 17 },
                                    { label: "7일", y: 23 },
                                    { label: "8일", y: 12 },
                                    { label: "9일", y: 10 },
                                    { label: "10일", y: 4 },
                                    { label: "11일", y: 4 },
                                    { label: "12일", y: 3 },
                                    { label: "13일", y: 12 },
                                    { label: "14일", y: 11 },
                                    { label: "15일", y: 6 },
                                    { label: "16일", y: 8 },
                                    { label: "17일", y: 8 },
                                    { label: "18일", y: 3 },
                                    { label: "19일", y: 2 },
                                    { label: "20일", y: 11 },
                                    { label: "21일", y: 12 },
                                    { label: "22일", y: 13 },
                                    { label: "23일", y: 5 },
                                    { label: "24일", y: 5 },
                                    { label: "25일", y: 6 },
                                    { label: "26일", y: 4 },
                                    { label: "27일", y: 5 },
                                    { label: "28일", y: 3 },
                                    { label: "29일", y: 7 },
                                    { label: "30일", y: 7 },
                                    { label: "31일", y: 4 },
                                    { label: "32일", y: 5 },
                                    { label: "33일", y: 4 },
                                    { label: "34일", y: 2 },
                                    { label: "35일", y: 4 },
                                    
                                ]
                            }
                            ]
                        });
                        chart3.render();
                        function toggleDataSeries3(e) {
                            if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                e.dataSeries.visible = false;
                            }
                            else {
                                e.dataSeries.visible = true;
                            }
                            chart3.render();
                        }

                    var chart4 = new CanvasJS.Chart("chartContainer4", {
                        animationEnabled: true,
                        title: {
                            text: "ISOP_BUFFER_TIME",
                            fontSize: 25
                        },
                        axisX: {
                            labelAngle: 45, // X 축 레이블의 각도 조절
                        },
                        axisY: {
                            valueFormatString: "####",
                            suffix: "",
                        },
                        toolTip: {
                            shared: true
                        },
                        legend: {
                            cursor: "pointer",
                            itemclick: toggleDataSeries3
                        },
                        data: [
                        {
                            type: "column",
                            color: "rgba(255, 0, 0, 0.7)",
                            dataPoints: [
                                { label: "-7일", y: 2 },
                                { label: "-6일", y: 1},
                                { label: "-5일", y: 1 },
                                { label: "-4일", y: 2 },
                                { label: "-3일", y: 0 },
                                { label: "-2일", y: 0 },
                                { label: "-1일", y: 2 },
                                { label: "0일", y: 18 },
                                { label: "1일", y: 5 },
                                { label: "2일", y: 14 },
                                { label: "3일", y: 11},
                                { label: "4일", y: 9},
                                { label: "5일", y: 7},
                                { label: "6일", y: 13},
                                { label: "7일", y: 21},
                                { label: "8일", y: 6},
                                { label: "9일", y: 6},
                                { label: "10일", y: 9},
                                { label: "11일", y: 6},
                                { label: "12일", y: 5},
                                { label: "13일", y: 11},
                                { label: "14일", y: 9},
                                { label: "15일", y: 11},
                                { label: "16일", y: 3},
                                { label: "17일", y: 8},
                                { label: "18일", y: 8},
                                { label: "19일", y: 9},
                                { label: "20일", y: 9},
                                { label: "21일", y: 10},
                                { label: "22일", y: 3},
                                { label: "23일", y: 4},
                                { label: "24일", y: 3},
                                { label: "25일", y: 4},
                                { label: "26일", y: 2},
                                { label: "27일", y: 1},
                                { label: "28일", y: 2},
                                { label: "29일", y: 2},
                                { label: "30일", y: 2},
                                { label: "31일", y: 2},
                                { label: "32일", y: 3},
                            ]
                        }
                        ]
                    });
                    chart4.render();
                    function toggleDataSeries3(e) {
                        if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                            e.dataSeries.visible = false;
                        }
                        else {
                            e.dataSeries.visible = true;
                        }
                        chart4.render();
                    }
                    }
                </script>

            </div>
            <div id="chartContainer3" style="height: 360px; width: 95%;"></div>
            <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
            <div id="chartContainer4" style="height: 360px; width: 95%;"></div>
            
        </div>
    </div>
</div>

{% endblock %}


{% block js_body %}
<!-- Data Tables -->
<script src="{% static 'vendor/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'vendor/datatables/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'js/demo/datatables-demo.js' %}"></script>

{% endblock %}

