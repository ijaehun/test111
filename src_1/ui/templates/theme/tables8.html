{% extends 'base.html' %}
{% load static %}

{% block title %} Tables {% endblock %}


{% block css %}
<!-- Custom styles for this page -->
<link href="{% static 'vendor/datatables/dataTables.bootstrap4.min.css' %}" rel="stylesheet">
{% endblock %}

{% block container_fluid %}
<div class="container-fluid">
    <!-- Page Heading -->
    <h1 class="h3 mb-2 text-gray-800">학생 수 예측</h1>
    <p class="mb-4">대구광역시 10개년 지역별 학생 수 예측 6학년</p>
    <!-- DataTales Example -->
    <div class="card shadow mb-4">
        <!-- <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">DataTables Example</h6>
        </div> -->
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                    <thead>
                        <tr>
                            <th>예측년도</th>
                            <th>월배</th>
                            <th>성서</th>
                            <th>수성</th>
                            <th>칠곡</th>
                            <th>동부</th>
                            <th>서부</th>
                            <th>북부</th>
                            <th>남부</th>
                            <th>동대구</th>
                            <th>달성</th>
                            <th>중부</th>
                            <th>모델</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for db in results %}
                            <tr>
                                <td>{{ db.예측년도 }}</td>
                                <td>{{ db.월배 }}</td>
                                <td>{{ db.성서 }}</td>
                                <td>{{ db.수성 }}</td>
                                <td>{{ db.칠곡 }}</td>
                                <td>{{ db.동부 }}</td>
                                <td>{{ db.서부 }}</td>
                                <td>{{ db.북부 }}</td>
                                <td>{{ db.남부 }}</td>
                                <td>{{ db.동대구 }}</td>
                                <td>{{ db.달성 }}</td>
                                <td>{{ db.중부 }}</td>
                                <td>{{ db.모델 }}</td>
                            </tr>
                        {% endfor %}                      
                    </tbody>
                </table>
                    <tfoot>
                        <tr>
                            <td colspan="15">
                                <div class="chart-area">
                                    <script>
                                        window.onload = function () {
                                        
                                        var chart1 = new CanvasJS.Chart("chartContainer1", {
                                            animationEnabled: true,
                                            title:{
                                                text: "지역별 학생 수 예측 6학년 SSM"
                                            },
                                            axisX: {
                                                lineColor: "black",
                                                labelFontColor: "black"
                                            },
                                            axisY: {
                                                gridThickness: 0,
                                                title: "예측값",
                                                suffix: " 명",
                                                titleFontColor: "black",
                                                labelFontColor: "black"
                                            },
                                            toolTip: {
                                                shared: true
                                            },
                                            legend: {
                                                cursor: "pointer",
                                                itemmouseover: function(e) {
                                                    e.dataSeries.lineThickness = e.chart.data[e.dataSeriesIndex].lineThickness * 2;
                                                    e.dataSeries.markerSize = e.chart.data[e.dataSeriesIndex].markerSize + 2;
                                                    e.chart.render();
                                                },
                                                itemmouseout: function(e) {
                                                    e.dataSeries.lineThickness = e.chart.data[e.dataSeriesIndex].lineThickness / 2;
                                                    e.dataSeries.markerSize = e.chart.data[e.dataSeriesIndex].markerSize - 2;
                                                    e.chart.render();
                                                },
                                                itemclick: function (e) {
                                                    if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                                        e.dataSeries.visible = false;
                                                    } else {
                                                        e.dataSeries.visible = true;
                                                    }
                                                    e.chart.render();
                                                }
                                            },
                                            data: [{
                                                type: "spline",
                                                showInLegend: true,
                                                name: "월배",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 3300 },
                                                    { x: new Date(2024, 0), y: 3389 },
                                                    { x: new Date(2025, 0), y: 3292 },
                                                    { x: new Date(2026, 0), y: 3144 },
                                                    { x: new Date(2027, 0), y: 3141 },
                                                    { x: new Date(2028, 0), y: 3085 },
                                                    { x: new Date(2029, 0), y: 2809 },
                                                    { x: new Date(2030, 0), y: 2481 },
                                                    { x: new Date(2031, 0), y: 2286 }
                                                ]
                                             },
                                            {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "성서",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 2614 },
                                                    { x: new Date(2024, 0), y: 2655 },
                                                    { x: new Date(2025, 0), y: 2540 },
                                                    { x: new Date(2026, 0), y: 2345 },
                                                    { x: new Date(2027, 0), y: 2427 },
                                                    { x: new Date(2028, 0), y: 2266 },
                                                    { x: new Date(2029, 0), y: 2036 },
                                                    { x: new Date(2030, 0), y: 1883 },
                                                    { x: new Date(2031, 0), y: 1604 }
                                                ]
                                             },
                                            {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "수성",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 3835 },
                                                    { x: new Date(2024, 0), y: 4000 },
                                                    { x: new Date(2025, 0), y: 3956 },
                                                    { x: new Date(2026, 0), y: 3892 },
                                                    { x: new Date(2027, 0), y: 3742 },
                                                    { x: new Date(2028, 0), y: 3872 },
                                                    { x: new Date(2029, 0), y: 3547 },
                                                    { x: new Date(2030, 0), y: 2980 },
                                                    { x: new Date(2031, 0), y: 2978 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "칠곡",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 1850 },
                                                    { x: new Date(2024, 0), y: 1905 },
                                                    { x: new Date(2025, 0), y: 1775 },
                                                    { x: new Date(2026, 0), y: 1686 },
                                                    { x: new Date(2027, 0), y: 1756 },
                                                    { x: new Date(2028, 0), y: 1557 },
                                                    { x: new Date(2029, 0), y: 1448 },
                                                    { x: new Date(2030, 0), y: 1332 },
                                                    { x: new Date(2031, 0), y: 1031 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "동부",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 1939 },
                                                    { x: new Date(2024, 0), y: 1947 },
                                                    { x: new Date(2025, 0), y: 1892 },
                                                    { x: new Date(2026, 0), y: 1736 },
                                                    { x: new Date(2027, 0), y: 1787 },
                                                    { x: new Date(2028, 0), y: 1729 },
                                                    { x: new Date(2029, 0), y: 1540 },
                                                    { x: new Date(2030, 0), y: 1429 },
                                                    { x: new Date(2031, 0), y: 1286 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "서부",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 756 },
                                                    { x: new Date(2024, 0), y: 784 },
                                                    { x: new Date(2025, 0), y: 704 },
                                                    { x: new Date(2026, 0), y: 662 },
                                                    { x: new Date(2027, 0), y: 714 },
                                                    { x: new Date(2028, 0), y: 571 },
                                                    { x: new Date(2029, 0), y: 539 },
                                                    { x: new Date(2030, 0), y: 513 },
                                                    { x: new Date(2031, 0), y: 322 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "북부",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 1513 },
                                                    { x: new Date(2024, 0), y: 1550 },
                                                    { x: new Date(2025, 0), y: 1496 },
                                                    { x: new Date(2026, 0), y: 1403 },
                                                    { x: new Date(2027, 0), y: 1422 },
                                                    { x: new Date(2028, 0), y: 1364 },
                                                    { x: new Date(2029, 0), y: 1230 },
                                                    { x: new Date(2030, 0), y: 1105 },
                                                    { x: new Date(2031, 0), y: 985 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "남부",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 850 },
                                                    { x: new Date(2024, 0), y: 880 },
                                                    { x: new Date(2025, 0), y: 815 },
                                                    { x: new Date(2026, 0), y: 780 },
                                                    { x: new Date(2027, 0), y: 812 },
                                                    { x: new Date(2028, 0), y: 712 },
                                                    { x: new Date(2029, 0), y: 668 },
                                                    { x: new Date(2030, 0), y: 611 },
                                                    { x: new Date(2031, 0), y: 463 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "동대구",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 1002 },
                                                    { x: new Date(2024, 0), y: 1026 },
                                                    { x: new Date(2025, 0), y: 946 },
                                                    { x: new Date(2026, 0), y: 907 },
                                                    { x: new Date(2027, 0), y: 955 },
                                                    { x: new Date(2028, 0), y: 832 },
                                                    { x: new Date(2029, 0), y: 787 },
                                                    { x: new Date(2030, 0), y: 736 },
                                                    { x: new Date(2031, 0), y: 548 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "달성",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 1317 },
                                                    { x: new Date(2024, 0), y: 1340 },
                                                    { x: new Date(2025, 0), y: 1439 },
                                                    { x: new Date(2026, 0), y: 1344 },
                                                    { x: new Date(2027, 0), y: 1231 },
                                                    { x: new Date(2028, 0), y: 1488 },
                                                    { x: new Date(2029, 0), y: 1266 },
                                                    { x: new Date(2030, 0), y: 1036 },
                                                    { x: new Date(2031, 0), y: 1296 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "중부",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 651 },
                                                    { x: new Date(2024, 0), y: 658 },
                                                    { x: new Date(2025, 0), y: 639 },
                                                    { x: new Date(2026, 0), y: 588 },
                                                    { x: new Date(2027, 0), y: 602 },
                                                    { x: new Date(2028, 0), y: 583 },
                                                    { x: new Date(2029, 0), y: 519 },
                                                    { x: new Date(2030, 0), y: 476 },
                                                    { x: new Date(2031, 0), y: 430 }
                                                ]
                                            }]
                                        });

                                        var chart2 = new CanvasJS.Chart("chartContainer2", {
                                            animationEnabled: true,
                                            title:{
                                                text: "지역별 학생 수 예측 6학년 DLA"
                                            },
                                            axisX: {
                                                lineColor: "black",
                                                labelFontColor: "black"
                                            },
                                            axisY: {
                                                gridThickness: 0,
                                                title: "예측값",
                                                suffix: " 명",
                                                titleFontColor: "black",
                                                labelFontColor: "black"
                                            },
                                            toolTip: {
                                                shared: true
                                            },
                                            legend: {
                                                cursor: "pointer",
                                                itemmouseover: function(e) {
                                                    e.dataSeries.lineThickness = e.chart.data[e.dataSeriesIndex].lineThickness * 2;
                                                    e.dataSeries.markerSize = e.chart.data[e.dataSeriesIndex].markerSize + 2;
                                                    e.chart.render();
                                                },
                                                itemmouseout: function(e) {
                                                    e.dataSeries.lineThickness = e.chart.data[e.dataSeriesIndex].lineThickness / 2;
                                                    e.dataSeries.markerSize = e.chart.data[e.dataSeriesIndex].markerSize - 2;
                                                    e.chart.render();
                                                },
                                                itemclick: function (e) {
                                                    if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                                        e.dataSeries.visible = false;
                                                    } else {
                                                        e.dataSeries.visible = true;
                                                    }
                                                    e.chart.render();
                                                }
                                            },
                                            data: [{
                                                type: "spline",
                                                showInLegend: true,
                                                name: "월배",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 3300 },
                                                    { x: new Date(2024, 0), y: 3389 },
                                                    { x: new Date(2025, 0), y: 3292 },
                                                    { x: new Date(2026, 0), y: 3144 },
                                                    { x: new Date(2027, 0), y: 3141 },
                                                    { x: new Date(2028, 0), y: 3085 },
                                                    { x: new Date(2029, 0), y: 2809 },
                                                    { x: new Date(2030, 0), y: 2481 },
                                                    { x: new Date(2031, 0), y: 2286 }
                                                ]
                                             },
                                            {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "성서",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 2614 },
                                                    { x: new Date(2024, 0), y: 2655 },
                                                    { x: new Date(2025, 0), y: 2540 },
                                                    { x: new Date(2026, 0), y: 2345 },
                                                    { x: new Date(2027, 0), y: 2427 },
                                                    { x: new Date(2028, 0), y: 2266 },
                                                    { x: new Date(2029, 0), y: 2036 },
                                                    { x: new Date(2030, 0), y: 1883 },
                                                    { x: new Date(2031, 0), y: 1604 }
                                                ]
                                             },
                                            {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "수성",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 3835 },
                                                    { x: new Date(2024, 0), y: 4000 },
                                                    { x: new Date(2025, 0), y: 3956 },
                                                    { x: new Date(2026, 0), y: 3892 },
                                                    { x: new Date(2027, 0), y: 3742 },
                                                    { x: new Date(2028, 0), y: 3872 },
                                                    { x: new Date(2029, 0), y: 3547 },
                                                    { x: new Date(2030, 0), y: 2980 },
                                                    { x: new Date(2031, 0), y: 2978 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "칠곡",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 1850 },
                                                    { x: new Date(2024, 0), y: 1905 },
                                                    { x: new Date(2025, 0), y: 1775 },
                                                    { x: new Date(2026, 0), y: 1686 },
                                                    { x: new Date(2027, 0), y: 1756 },
                                                    { x: new Date(2028, 0), y: 1557 },
                                                    { x: new Date(2029, 0), y: 1448 },
                                                    { x: new Date(2030, 0), y: 1332 },
                                                    { x: new Date(2031, 0), y: 1031 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "동부",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 1939 },
                                                    { x: new Date(2024, 0), y: 1947 },
                                                    { x: new Date(2025, 0), y: 1892 },
                                                    { x: new Date(2026, 0), y: 1736 },
                                                    { x: new Date(2027, 0), y: 1787 },
                                                    { x: new Date(2028, 0), y: 1729 },
                                                    { x: new Date(2029, 0), y: 1540 },
                                                    { x: new Date(2030, 0), y: 1429 },
                                                    { x: new Date(2031, 0), y: 1286 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "서부",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 756 },
                                                    { x: new Date(2024, 0), y: 784 },
                                                    { x: new Date(2025, 0), y: 704 },
                                                    { x: new Date(2026, 0), y: 662 },
                                                    { x: new Date(2027, 0), y: 714 },
                                                    { x: new Date(2028, 0), y: 571 },
                                                    { x: new Date(2029, 0), y: 539 },
                                                    { x: new Date(2030, 0), y: 513 },
                                                    { x: new Date(2031, 0), y: 322 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "북부",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 1513 },
                                                    { x: new Date(2024, 0), y: 1550 },
                                                    { x: new Date(2025, 0), y: 1496 },
                                                    { x: new Date(2026, 0), y: 1403 },
                                                    { x: new Date(2027, 0), y: 1422 },
                                                    { x: new Date(2028, 0), y: 1364 },
                                                    { x: new Date(2029, 0), y: 1230 },
                                                    { x: new Date(2030, 0), y: 1105 },
                                                    { x: new Date(2031, 0), y: 985 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "남부",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 850 },
                                                    { x: new Date(2024, 0), y: 880 },
                                                    { x: new Date(2025, 0), y: 815 },
                                                    { x: new Date(2026, 0), y: 780 },
                                                    { x: new Date(2027, 0), y: 812 },
                                                    { x: new Date(2028, 0), y: 712 },
                                                    { x: new Date(2029, 0), y: 668 },
                                                    { x: new Date(2030, 0), y: 611 },
                                                    { x: new Date(2031, 0), y: 463 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "동대구",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 1002 },
                                                    { x: new Date(2024, 0), y: 1026 },
                                                    { x: new Date(2025, 0), y: 946 },
                                                    { x: new Date(2026, 0), y: 907 },
                                                    { x: new Date(2027, 0), y: 955 },
                                                    { x: new Date(2028, 0), y: 832 },
                                                    { x: new Date(2029, 0), y: 787 },
                                                    { x: new Date(2030, 0), y: 736 },
                                                    { x: new Date(2031, 0), y: 548 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "달성",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 1317 },
                                                    { x: new Date(2024, 0), y: 1340 },
                                                    { x: new Date(2025, 0), y: 1439 },
                                                    { x: new Date(2026, 0), y: 1344 },
                                                    { x: new Date(2027, 0), y: 1231 },
                                                    { x: new Date(2028, 0), y: 1488 },
                                                    { x: new Date(2029, 0), y: 1266 },
                                                    { x: new Date(2030, 0), y: 1036 },
                                                    { x: new Date(2031, 0), y: 1296 }
                                                ]
                                             },
                                             {
                                                type: "spline",
                                                showInLegend: true,
                                                name: "중부",
                                                yValueFormatString: "#,##0",
                                                xValueFormatString: "YYYY",
                                                dataPoints: [
                                                    { x: new Date(2023, 0), y: 651 },
                                                    { x: new Date(2024, 0), y: 658 },
                                                    { x: new Date(2025, 0), y: 639 },
                                                    { x: new Date(2026, 0), y: 588 },
                                                    { x: new Date(2027, 0), y: 602 },
                                                    { x: new Date(2028, 0), y: 583 },
                                                    { x: new Date(2029, 0), y: 519 },
                                                    { x: new Date(2030, 0), y: 476 },
                                                    { x: new Date(2031, 0), y: 430 }
                                                ]
                                            }]
                                        });

                                        chart1.render();
                                        chart2.render();
                                        }
                                        </script>
                                        <body>
                                            <div id="chartContainer1" style="height: 370px; width: 100%;"></div>
                                            <div id="chartContainer2"  ></div>
                                        <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
                                        </body>
                                    </div>
                                </td>
                            </tr>
                    </tfoot>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block js_body %}
<!-- Data Tables -->
<script src="{% static 'vendor/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'vendor/datatables/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'js/demo/datatables-demo.js' %}"></script>
{% endblock %}